<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org" xmlns:sec="http://thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <title>Technicians List</title>

</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<div class="container">
    <h3>Technician Directory</h3><hr>
    <div>
        User: <span sec:authentication="principal.username"></span><br>
        Role(s): <span sec:authentication="principal.authorities"></span>
    </div>
    <a th:href="@{/Technicians/showFormAdd}" class="btn btn-primary btn-sm mb-3">Add Employee</a>
    <table class="table table-bordered table-striped">
        <thead class="table-dark">
            <th>Technician Name</th>
            <th>Skill</th>
            <th>Phone_number</th>
            <th>Available</th>
            <th>Available_Timings</th>
            <th>workdays</th>
            <th>Licence_no</th>
            <th>Action</th>
        </thead>
        <tbody>
        <tr th:each="tempTechnician : ${Technicians}">
            <td th:text="${tempTechnician.Technician_name}"></td>
            <td th:text="${tempTechnician.Skill}"></td>
            <td th:text="${tempTechnician.Phone_number}"></td>
            <td th:text="${tempTechnician.Available}"></td>
            <td th:text="${tempTechnician.Available_Timings}"></td>
            <td th:text="${tempTechnician.workdays}"></td>
            <td th:text="${tempTechnician.licence_no}"></td>
            <td>
                <a th:href="@{/Technicians/showFormForUpdate(id=${tempTechnician.id})}" class="btn btn-info btn-sm">Update</a>
                <a th:href="@{/Technicians/delete(id=${tempTechnician.id})}" class="btn btn-danger btn-sm" onclick="if(!(confirm('Are you want to delete this Technician'))) return false" method="delete">Delete</a>
            </td>



        </tr>
        </tbody>
    </table>
    <form action="#" th:action="@{/logout}" method="post">
        <input type="submit" value="Logout"/>
    </form>
</div>

<!--<span  th:text="${Technicians}"/>-->
</body>
</html>